<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ROS-problems log | RobohouHome</title>
<link rel="shortcut icon" href="https://Robohou.github.io/favicon.ico?v=1595130520207">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://Robohou.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="ROS-problems log | RobohouHome - Atom Feed" href="https://Robohou.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="
20200522

1：使用rqt_plot指令的时候，想要拉动放大界面，发现命令行报错。
​		解决办法：升级matplot模块
2：使用pip安装matplotlib时候网络超时
​		解决办法：更换pip镜像源到清华大学
pip i..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://Robohou.github.io">
  <img class="avatar" src="https://Robohou.github.io/images/avatar.png?v=1595130520207" alt="">
  </a>
  <h1 class="site-title">
    RobohouHome
  </h1>
  <p class="site-description">
    学而时习之，不亦乐乎！
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              ROS-problems log
            </h2>
            <div class="post-info">
              <span>
                2020-07-19
              </span>
              <span>
                6 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <ul>
<li>20200522</li>
</ul>
<h4 id="1使用rqt_plot指令的时候想要拉动放大界面发现命令行报错">1：使用rqt_plot指令的时候，想要拉动放大界面，发现命令行报错。</h4>
<p>​		解决办法：升级matplot模块</p>
<h4 id="2使用pip安装matplotlib时候网络超时">2：使用pip安装matplotlib时候网络超时</h4>
<p>​		解决办法：更换pip镜像源到清华大学</p>
<p>pip install -i http://pypi.douban.com/simple  	matplotlib</p>
<h4 id="3-ros的源码包和二进制包">3: ROS的源码包和二进制包</h4>
<p>​		安装包有源码形式与二进制形式的，对于自带的turtlesim的是已经编译好的，所以不能找到源码文件。二进制包里面包括了已经编译完成,可以直接运行的程序。你通过<code>sudo apt-get install</code>来进行下载和解包(安装),执行完该指令后就可以马上使用了。因此这种方式简单快捷,适合比较固定、无需改动的程序。而源代码包里是程序的原始代码,在你的计算机上必须经过编译,生成了可执行的二进制文件,方可运行。一些个人开发的程序、第三方修改或者你希望修改的程序都应当通过源代码包的来编译安装。</p>
<figure data-type="image" tabindex="1"><img src="/home/hou/Documents/mySycNoteBook/typora-pic/%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E6%BA%90%E7%A0%81%E5%8C%85.png" alt="" loading="lazy"></figure>
<p>​		我们用apt-get安装了ROS及其组件,因此我们不需要编译就可以运行turtlesim程序。对于这些程序,除非我们做操作系统的设计开发才会去下载源码,否则直接用官方提供的ROS软件包;而在1.5中,ROS-Academy-for-Beginners以源码呈现,你可以看到每个demo下面的C++代码。对于这些源文件我们必须caktin_make编译,然后才能运行。</p>
<h3 id="4-无法找到rosrosh">4、无法找到ros/ros.h</h3>
<p>在cmake里面增加一句</p>
<blockquote>
<p>include_directories(include ${catkin_INCLUDE_DIRS})</p>
</blockquote>
<p>注意：要加载find_package之后</p>
<blockquote>
<p>From your <code>CMakeLists.txt</code> this appears to be more of a CMake problem than really ROS related, but:</p>
<blockquote>
<pre><code>cmake_minimum_required(VERSION 2.8.3)
project(sphero_move)

...

find_package(catkin REQUIRED)

include_directories(${catkin_INCLUDE_DIRS})

find_package(catkin REQUIRED COMPONENTS 
  ...
)
</code></pre>
</blockquote>
<p>This is your problem: you <code>find_package(..)</code> the <code>catkin</code> package twice. As with other CMake libraries, the second will not necessarily overwrite the first, so it never really does what you want.</p>
<p>Apart from that, you invoke <code>include_directories(..)</code> <em>before</em> your call to <code>find_package(catkin ..)</code> which actually finds the ROS packages you are interested in, and are using. At that point, <code>catkin_INCLUDE_DIRS</code> is empty, leading to no changes to the header search path and ultimately the errors you see.</p>
<p>I'd suggest to merge the two <code>find_package(catkin ..)</code> calls, keep the <code>COMPONENTS</code> and its arguments, and place the <code>include_directories(..)</code> line <em>after</em> <code>find_package(catkin ..)</code> has had a chance to find your dependencies and populate the variable.</p>
<p>Some references: <a href="http://wiki.ros.org/catkin/CMakeLists.txt">catkin/CMakeLists.txt</a> on the ROS wiki, and <a href="http://docs.ros.org/indigo/api/catkin/html/howto/format2/index.html">catkin 0.6.18 documentation » How to do common tasks » Package format 2 (recommended)</a> in the Catkin docs (Indigo version). For the second link, see the <em>C++ catkin library dependencies</em> and <em>C++ system library dependencies</em> sections.</p>
<p><a href="https://answers.ros.org/question/237494/fatal-error-rosrosh-no-such-file-or-directory/?answer=237653#post-id-237653">link</a></p>
<h2 id="comments">Comments</h2>
<p>That worked. Thanks</p>
<p><a href="https://answers.ros.org/users/27116/aldolereste/"><img src="https://www.gravatar.com/avatar/4a32634b282e7a085ee2223479594bab?s=16&amp;d=identicon&amp;r=PG" alt="aldolereste gravatar image" loading="lazy"></a><a href="https://answers.ros.org/users/27116/aldolereste/"> aldolereste </a> ( Jun 23 '16 )</p>
<p>add a comment</p>
</blockquote>
<p>https://answers.ros.org/question/237494/fatal-error-rosrosh-no-such-file-or-directory/</p>
<hr>
<h3 id="5-串口通信的方式">5、串口通信的方式</h3>
<p>从目前来讲，有两种方式</p>
<p>第一种，写PC串口通信程序，读取单片机发过来的信息，打包成节点，发布多个话题，如速度、里程计等</p>
<p>第二种，单片机使用rosserial包，直接发布话题，PC上写一个打包节点</p>
<p>第一种，今天试了一下，但是没有成功，问题出现在报错“没有接收到协议头”</p>
<p>第一种耗费了我太多的时间，很无语。</p>
<h3 id="6-代码补">6、代码补</h3>
<p>C++ Intellisenseaustin.code-gnu-global 这个插件能够在vscode里面表现出很好的自动补全功能。</p>
<h3 id="7-urdf文件中不能有中文">7、urdf文件中不能有中文</h3>
<blockquote>
<p>xml文件有中文注释导致查找了半天，urdf有几个TF在RVIZ中有错误，后来讲注释改成英文即可解决。</p>
</blockquote>
<h3 id="8-joint_state_publisher节点改成joint_state_publisher_gui">8、joint_state_publisher节点改成joint_state_publisher_gui</h3>
<p>在古月居的书中，第六章“机器人建模和仿真” P123中，launch有问题</p>
<pre><code class="language-python">&lt;launch&gt;
	&lt;param name=&quot;robot_description&quot; textfile=&quot;$(find mrobot_description)/urdf/mrobot_chassis.urdf&quot; /&gt;

	&lt;!-- 设置GUI参数，显示关节控制插件 --&gt;
	&lt;param name=&quot;use_gui&quot; value=&quot;true&quot;/&gt;
	
	&lt;!-- 运行joint_state_publisher节点，发布机器人的关节状态  --&gt;
	&lt;node name=&quot;joint_state_publisher&quot; pkg=&quot;joint_state_publisher&quot; type=&quot;joint_state_publisher&quot; /&gt;
	
	&lt;!-- 运行robot_state_publisher节点，发布tf  --&gt;
	&lt;node name=&quot;robot_state_publisher&quot; pkg=&quot;robot_state_publisher&quot; type=&quot;state_publisher&quot; /&gt;
	
	&lt;!-- 运行rviz可视化界面 --&gt;
	&lt;node name=&quot;rviz&quot; pkg=&quot;rviz&quot; type=&quot;rviz&quot; args=&quot;-d $(find mrobot_description)/config/mrobot_urdf.rviz&quot; required=&quot;true&quot; /&gt;
&lt;/launch&gt;

</code></pre>
<p>运行之后，有警告：</p>
<pre><code class="language-c">[WARN] [1594476941.188010]: The 'use_gui' parameter was specified, which is deprecated.  We'll attempt to find and run the GUI, but if this fails you should install the 'joint_state_publisher_gui' package instead and run that.  This backwards compatibility option will be removed in Noetic.
</code></pre>
<p>解决方法是，直接去掉第一句，在node里面使用robot_state_publisher_gui即可</p>
<pre><code class="language-c">&lt;launch&gt;
	&lt;param name=&quot;robot_description&quot; textfile=&quot;$(find mrobot_description)/urdf/mrobot_chassis_copy.urdf&quot; /&gt;

	&lt;!-- 运行joint_state_publisher节点，发布机器人的关节状态  --&gt;
	&lt;node name=&quot;joint_state_publisher_gui&quot; pkg=&quot;joint_state_publisher_gui&quot; type=&quot;joint_state_publisher_gui&quot; /&gt;
	
	&lt;!-- 运行robot_state_publisher节点，发布tf  --&gt;
	&lt;node name=&quot;robot_state_publisher&quot; pkg=&quot;robot_state_publisher&quot; type=&quot;state_publisher&quot; /&gt;
	
	&lt;!-- 运行rviz可视化界面 --&gt;
	&lt;node name=&quot;rviz&quot; pkg=&quot;rviz&quot; type=&quot;rviz&quot; args=&quot;-d $(find mrobot_description)/config/mrobot_urdf_copyA.rviz&quot; required=&quot;true&quot; /&gt;
&lt;/launch&gt;
</code></pre>
<p>OK!</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#1%E4%BD%BF%E7%94%A8rqt_plot%E6%8C%87%E4%BB%A4%E7%9A%84%E6%97%B6%E5%80%99%E6%83%B3%E8%A6%81%E6%8B%89%E5%8A%A8%E6%94%BE%E5%A4%A7%E7%95%8C%E9%9D%A2%E5%8F%91%E7%8E%B0%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%8A%A5%E9%94%99">1：使用rqt_plot指令的时候，想要拉动放大界面，发现命令行报错。</a></li>
<li><a href="#2%E4%BD%BF%E7%94%A8pip%E5%AE%89%E8%A3%85matplotlib%E6%97%B6%E5%80%99%E7%BD%91%E7%BB%9C%E8%B6%85%E6%97%B6">2：使用pip安装matplotlib时候网络超时</a></li>
<li><a href="#3-ros%E7%9A%84%E6%BA%90%E7%A0%81%E5%8C%85%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85">3: ROS的源码包和二进制包</a></li>
</ul>
</li>
<li><a href="#4-%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0rosrosh">4、无法找到ros/ros.h</a></li>
</ul>
</li>
<li><a href="#comments">Comments</a>
<ul>
<li><a href="#5-%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1%E7%9A%84%E6%96%B9%E5%BC%8F">5、串口通信的方式</a></li>
<li><a href="#6-%E4%BB%A3%E7%A0%81%E8%A1%A5">6、代码补</a></li>
<li><a href="#7-urdf%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B8%8D%E8%83%BD%E6%9C%89%E4%B8%AD%E6%96%87">7、urdf文件中不能有中文</a></li>
<li><a href="#8-joint_state_publisher%E8%8A%82%E7%82%B9%E6%94%B9%E6%88%90joint_state_publisher_gui">8、joint_state_publisher节点改成joint_state_publisher_gui</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://Robohou.github.io/post/hello-gridea/">
              <h3 class="post-title">
                Hello Gridea
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a> Robohou</a>
  <a class="rss" href="https://Robohou.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
